trigger:
  - develop

pool: selfhosted

steps:  
  - task: gitversion/setup@0
    inputs:
      versionSpec: '5.x'
  
  - task: gitversion/execute@0
  #  inputs:
  #    versionSpec: '5.x'
  # - task: UseGitVersion@5
  #   displayName: Determine Version Number
  #   inputs:
  #     versionSpec: '5.x'
  - task: PowerShell@2
    displayName: 'Set version number in gradle'
    inputs:
      targetType: 'inline'
      script: Write-Output "$GITVERSIONNUMBER" &&  Write-Output $GITVERSIONNUMBER &&  Write-Output ENV["GITVERSION_MAJORMINORPATCH"]
    env:
      GITVERSIONNUMBER: $(GitVersion.SemVer)

